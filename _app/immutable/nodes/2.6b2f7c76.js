import{S as j,i as K,s as R,a as S,k,c as T,l as g,m as E,h as _,n as v,b as w,G as L,J as O,K as P,H as I,L as G,t as Y,q as H,r as M,u as F,w as Q,y as W,z as X,A as Z,g as x,d as $,B as ee,I as q}from"../chunks/index.4cf10c19.js";import{s as te,a as ne,l as z,g as N,i as A,t as B,b as U,N as ie,m as le,c as oe,u as ae,r as D}from"../chunks/note.1bc9795f.js";function se({fetch:s,params:e}){return{fetch:s}}const be=Object.freeze(Object.defineProperty({__proto__:null,load:se},Symbol.toStringTag,{value:"Module"}));function J(s,e,t){const n=s.slice();return n[10]=e[t],n}function re(s){let e,t,n,c;return{c(){e=k("button"),t=H("⚙︎"),this.h()},l(i){e=g(i,"BUTTON",{id:!0});var r=E(e);t=M(r,"⚙︎"),r.forEach(_),this.h()},h(){v(e,"id","search_btn")},m(i,r){w(i,e,r),L(e,t),n||(c=P(e,"click",s[6]),n=!0)},p:I,d(i){i&&_(e),n=!1,c()}}}function ce(s){let e,t,n,c;return{c(){e=k("span"),t=H(">> Cmd + P"),this.h()},l(i){e=g(i,"SPAN",{id:!0});var r=E(e);t=M(r,">> Cmd + P"),r.forEach(_),this.h()},h(){v(e,"id","search_btn")},m(i,r){w(i,e,r),L(e,t),n||(c=P(e,"click",s[5]),n=!0)},p:I,d(i){i&&_(e),n=!1,c()}}}function V(s){let e,t=s[10].rep+"",n,c,i,r,l;function m(){return s[9](s[10])}return{c(){e=k("p"),n=H(t),c=S(),i=k("br")},l(f){e=g(f,"P",{});var p=E(e);n=M(p,t),p.forEach(_),c=T(f),i=g(f,"BR",{})},m(f,p){w(f,e,p),L(e,n),w(f,c,p),w(f,i,p),r||(l=P(e,"click",m),r=!0)},p(f,p){s=f,p&8&&t!==(t=s[10].rep+"")&&F(n,t)},d(f){f&&_(e),f&&_(c),f&&_(i),r=!1,l()}}}function ue(s){let e,t,n,c,i,r,l,m;function f(o,h){return o[4]?ce:re}let p=f(s),b=p(s),d=s[3],a=[];for(let o=0;o<d.length;o+=1)a[o]=V(J(s,d,o));return{c(){b.c(),e=S(),t=k("div"),n=k("input"),c=S(),i=k("div");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){b.l(o),e=T(o),t=g(o,"DIV",{class:!0});var h=E(t);n=g(h,"INPUT",{placeholder:!0,type:!0}),c=T(h),i=g(h,"DIV",{class:!0});var u=E(i);for(let y=0;y<a.length;y+=1)a[y].l(u);u.forEach(_),h.forEach(_),this.h()},h(){v(n,"placeholder","search..."),v(n,"type","text"),v(i,"class","results"),v(t,"class","searchbar"),t.hidden=r=!s[0]},m(o,h){b.m(o,h),w(o,e,h),w(o,t,h),L(t,n),s[7](n),O(n,s[2]),L(t,c),L(t,i);for(let u=0;u<a.length;u+=1)a[u].m(i,null);l||(m=P(n,"input",s[8]),l=!0)},p(o,[h]){if(p===(p=f(o))&&b?b.p(o,h):(b.d(1),b=p(o),b&&(b.c(),b.m(e.parentNode,e))),h&4&&n.value!==o[2]&&O(n,o[2]),h&8){d=o[3];let u;for(u=0;u<d.length;u+=1){const y=J(o,d,u);a[u]?a[u].p(y,h):(a[u]=V(y),a[u].c(),a[u].m(i,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=d.length}h&1&&r!==(r=!o[0])&&(t.hidden=r)},i:I,o:I,d(o){b.d(o),o&&_(e),o&&_(t),s[7](null),G(a,o),l=!1,m()}}}function de(s,e,t){let n=!1,c="",i=[];window.addEventListener("keydown",a=>{a.key=="p"?a.metaKey&&(a.preventDefault(),t(0,n=!0)):a.key=="Escape"&&t(0,n=!1)}),window.addEventListener("keyup",a=>{if(!(a.key=="Meta"||a.key=="Escape")){let o=te(c);t(3,i=o)}}),window.addEventListener("click",a=>{console.log(a.target.id),a.target.id!="search_btn"&&(t(0,n=!1),t(4,l=!1))});let r,l=!1;const m=()=>{t(4,l=!1),t(0,n=!0)},f=a=>{t(4,l=!0)};function p(a){Q[a?"unshift":"push"](()=>{r=a,t(1,r)})}function b(){c=this.value,t(2,c)}const d=a=>{a.executor()};return s.$$.update=()=>{s.$$.dirty&3&&n&&Y().then(()=>{r.focus()})},[n,r,c,i,l,m,f,p,b,d]}class fe extends j{constructor(e){super(),K(this,e,de,ue,R,{})}}function he(s){let e,t,n,c,i,r;return e=new fe({}),{c(){W(e.$$.fragment),t=S(),n=k("h2"),c=S(),i=k("div"),this.h()},l(l){X(e.$$.fragment,l),t=T(l),n=g(l,"H2",{id:!0});var m=E(n);m.forEach(_),c=T(l),i=g(l,"DIV",{id:!0});var f=E(i);f.forEach(_),this.h()},h(){v(n,"id","fullheader"),v(i,"id","page")},m(l,m){Z(e,l,m),w(l,t,m),w(l,n,m),n.innerHTML=s[0],w(l,c,m),w(l,i,m),r=!0},p(l,[m]){(!r||m&1)&&(n.innerHTML=l[0])},i(l){r||(x(e.$$.fragment,l),r=!0)},o(l){$(e.$$.fragment,l),r=!1},d(l){ee(e,l),l&&_(t),l&&_(n),l&&_(c),l&&_(i)}}}function pe(s,e,t){let n;q(s,z,d=>t(7,d)),q(s,ae,d=>t(8,n=d));let{data:c}=e;document.title=window.location.hostname;var i,r="<br>";i=`<a href=/ onclick="window.location.href = '${window.origin}'; location.reload();" id=homebtn>sciepedia</a>`,r=i,Y().then(b);let l;const m=`Click me and write something: xzxysl ... &^

You can create a new link with # followed by text, for example: #link #recursion #whatever

Click on a link to open a page. If the page already exists, it will be displayed to you.

Almost forgot! Create an account: {}/login, and then you can create public pages.

If you want to learn more, check out: #sciepedia:kormann
`;let f,p;n[0];async function b(){ne(),window.fetch=c.fetch,z.subscribe(u=>{u?document.body.classList.add("light"):document.body.classList.remove("light")}),l=document.createElement("div"),l.innerHTML="<p>this is a pred</p><p>this is a pred</p><p>this is a pred</p>",l.id="pred",i=`<a href=/ onclick="setTimeout(()=>{window.location.href='${window.origin}'})" id=homebtn>sciepedia</a>`,t(0,r=i);let d=window.location.search;p=[N(D.path)],d&&d.length>1&&(d=decodeURI(d.slice(1)),A(d)||(d="#"+d),console.log("searching:",d),A(d)&&(p.push(p[0]),D.path=d)),f=document.querySelector("#page"),window.addEventListener("scroll",u=>{t(0,r=i);let y={element:{offsetTop:0},fullpath:"<span id=homebtn>sciepedia</span>"};B.forEach(C=>{window.scrollY+C.element.offsetHeight>C.element.offsetTop&&y.element.offsetTop<C.element.offsetTop})});const a=N("_tutorial:"+n);U.has(a)||U.setitem({Path:a,Content:m.replace("{}",window.location.origin),id:crypto.randomUUID()});let o=N(D.path);if(!U.has(o)){const u={Path:o,Content:`welcome to sciepedia
try out the tutorial: _tutorial`,id:crypto.randomUUID()};localStorage[JSON.stringify(u.Path)]=JSON.stringify(u)}let h=new ie("_home",o);B.push({element:h.head.title_element,fullpath:o}),f.appendChild(h.element),document.body.addEventListener("click",u=>{u.target==document.body&&le(null)}),window.addEventListener("onunload",u=>{localStorage.unloading=!0,h.body.free(),localStorage.unloaded=!0}),oe().then(()=>{h.body.spellcheck()})}return s.$$set=d=>{"data"in d&&t(1,c=d.data)},[r,c]}class we extends j{constructor(e){super(),K(this,e,pe,he,R,{data:1})}}export{we as component,be as universal};
