import{S as j,i as K,s as R,a as L,k,c as S,l as y,m as E,h as _,n as w,b as g,G as T,J as A,K as P,H as I,L as G,t as Y,q as M,r as H,u as F,w as Q,y as W,z as X,A as Z,g as x,d as $,B as ee,I as O}from"../chunks/index.4cf10c19.js";import{s as te,a as ne,l as q,g as D,i as z,t as B,b as N,N as le,m as ie,c as se,u as oe,r as U}from"../chunks/note.1bc9795f.js";function ae({fetch:a,params:n}){return{fetch:a}}const be=Object.freeze(Object.defineProperty({__proto__:null,load:ae},Symbol.toStringTag,{value:"Module"}));function J(a,n,t){const l=a.slice();return l[11]=n[t],l[13]=t,l}function re(a){let n,t,l,r;return{c(){n=k("button"),t=M("⚙︎"),this.h()},l(i){n=y(i,"BUTTON",{id:!0});var o=E(n);t=H(o,"⚙︎"),o.forEach(_),this.h()},h(){w(n,"id","search_btn")},m(i,o){g(i,n,o),T(n,t),l||(r=P(n,"click",a[7]),l=!0)},p:I,d(i){i&&_(n),l=!1,r()}}}function ce(a){let n,t,l,r;return{c(){n=k("span"),t=M(">> Cmd + P"),this.h()},l(i){n=y(i,"SPAN",{id:!0});var o=E(n);t=H(o,">> Cmd + P"),o.forEach(_),this.h()},h(){w(n,"id","search_btn")},m(i,o){g(i,n,o),T(n,t),l||(r=P(n,"click",a[6]),l=!0)},p:I,d(i){i&&_(n),l=!1,r()}}}function V(a){let n,t=a[11].rep+"",l,r,i,o,s,d;function b(){return a[10](a[11])}return{c(){n=k("p"),l=M(t),i=L(),o=k("br"),this.h()},l(f){n=y(f,"P",{class:!0});var h=E(n);l=H(h,t),h.forEach(_),i=S(f),o=y(f,"BR",{}),this.h()},h(){w(n,"class",r=a[13]==a[4]?"highlighted":"")},m(f,h){g(f,n,h),T(n,l),g(f,i,h),g(f,o,h),s||(d=P(n,"click",b),s=!0)},p(f,h){a=f,h&8&&t!==(t=a[11].rep+"")&&F(l,t),h&16&&r!==(r=a[13]==a[4]?"highlighted":"")&&w(n,"class",r)},d(f){f&&_(n),f&&_(i),f&&_(o),s=!1,d()}}}function ue(a){let n,t,l,r,i,o,s,d;function b(e,p){return e[5]?ce:re}let f=b(a),h=f(a),u=a[3],m=[];for(let e=0;e<u.length;e+=1)m[e]=V(J(a,u,e));return{c(){h.c(),n=L(),t=k("div"),l=k("input"),r=L(),i=k("div");for(let e=0;e<m.length;e+=1)m[e].c();this.h()},l(e){h.l(e),n=S(e),t=y(e,"DIV",{class:!0});var p=E(t);l=y(p,"INPUT",{placeholder:!0,type:!0}),r=S(p),i=y(p,"DIV",{class:!0});var c=E(i);for(let v=0;v<m.length;v+=1)m[v].l(c);c.forEach(_),p.forEach(_),this.h()},h(){w(l,"placeholder","search..."),w(l,"type","text"),w(i,"class","results"),w(t,"class","searchbar"),t.hidden=o=!a[0]},m(e,p){h.m(e,p),g(e,n,p),g(e,t,p),T(t,l),a[8](l),A(l,a[2]),T(t,r),T(t,i);for(let c=0;c<m.length;c+=1)m[c].m(i,null);s||(d=P(l,"input",a[9]),s=!0)},p(e,[p]){if(f===(f=b(e))&&h?h.p(e,p):(h.d(1),h=f(e),h&&(h.c(),h.m(n.parentNode,n))),p&4&&l.value!==e[2]&&A(l,e[2]),p&24){u=e[3];let c;for(c=0;c<u.length;c+=1){const v=J(e,u,c);m[c]?m[c].p(v,p):(m[c]=V(v),m[c].c(),m[c].m(i,null))}for(;c<m.length;c+=1)m[c].d(1);m.length=u.length}p&1&&o!==(o=!e[0])&&(t.hidden=o)},i:I,o:I,d(e){h.d(e),e&&_(n),e&&_(t),a[8](null),G(m,e),s=!1,d()}}}function he(a,n,t){let l=!1,r="",i=[],o=0;window.addEventListener("keydown",e=>{e.key=="p"?e.metaKey&&(e.preventDefault(),t(0,l=!0)):e.key=="Escape"&&t(0,l=!1)}),window.addEventListener("keyup",e=>{if(l&&!(e.key=="Meta"||e.key=="Escape"))if(e.key=="ArrowUp")t(4,o=Math.max(o-1,0));else if(e.key=="ArrowDown")t(4,o=Math.min(o+1,i.length-1));else if(e.key=="Tab")t(2,r=i[o].rep),e.preventDefault(),s.focus();else if(e.key=="Enter")i[o].executor();else{t(4,o=0);let p=te(r);t(3,i=p)}}),window.addEventListener("click",e=>{console.log(e.target.id),e.target.id!="search_btn"&&(t(0,l=!1),t(5,d=!1))});let s,d=!1;const b=()=>{t(5,d=!1),t(0,l=!0)},f=e=>{t(5,d=!0)};function h(e){Q[e?"unshift":"push"](()=>{s=e,t(1,s)})}function u(){r=this.value,t(2,r)}const m=e=>{e.executor()};return a.$$.update=()=>{a.$$.dirty&3&&l&&Y().then(()=>{s.focus()})},[l,s,r,i,o,d,b,f,h,u,m]}class fe extends j{constructor(n){super(),K(this,n,he,ue,R,{})}}function de(a){let n,t,l,r,i,o;return n=new fe({}),{c(){W(n.$$.fragment),t=L(),l=k("h2"),r=L(),i=k("div"),this.h()},l(s){X(n.$$.fragment,s),t=S(s),l=y(s,"H2",{id:!0});var d=E(l);d.forEach(_),r=S(s),i=y(s,"DIV",{id:!0});var b=E(i);b.forEach(_),this.h()},h(){w(l,"id","fullheader"),w(i,"id","page")},m(s,d){Z(n,s,d),g(s,t,d),g(s,l,d),l.innerHTML=a[0],g(s,r,d),g(s,i,d),o=!0},p(s,[d]){(!o||d&1)&&(l.innerHTML=s[0])},i(s){o||(x(n.$$.fragment,s),o=!0)},o(s){$(n.$$.fragment,s),o=!1},d(s){ee(n,s),s&&_(t),s&&_(l),s&&_(r),s&&_(i)}}}function pe(a,n,t){let l;O(a,q,u=>t(7,u)),O(a,oe,u=>t(8,l=u));let{data:r}=n;document.title=window.location.hostname;var i,o="<br>";i=`<a href=/ onclick="window.location.href = '${window.origin}'; location.reload();" id=homebtn>sciepedia</a>`,o=i,Y().then(h);let s;const d=`Click me and write something: xzxysl ... &^

You can create a new link with # followed by text, for example: #link #recursion #whatever

Click on a link to open a page. If the page already exists, it will be displayed to you.

Almost forgot! Create an account: {}/login, and then you can create public pages.

If you want to learn more, check out: #sciepedia:kormann
`;let b,f;l[0];async function h(){ne(),window.fetch=r.fetch,q.subscribe(c=>{c?document.body.classList.add("light"):document.body.classList.remove("light")}),s=document.createElement("div"),s.innerHTML="<p>this is a pred</p><p>this is a pred</p><p>this is a pred</p>",s.id="pred",i=`<a href=/ onclick="setTimeout(()=>{window.location.href='${window.origin}'})" id=homebtn>sciepedia</a>`,t(0,o=i);let u=window.location.search;f=[D(U.path)],u&&u.length>1&&(u=decodeURI(u.slice(1)),z(u)||(u="#"+u),console.log("searching:",u),z(u)&&(f.push(f[0]),U.path=u)),b=document.querySelector("#page"),window.addEventListener("scroll",c=>{t(0,o=i);let v={element:{offsetTop:0},fullpath:"<span id=homebtn>sciepedia</span>"};B.forEach(C=>{window.scrollY+C.element.offsetHeight>C.element.offsetTop&&v.element.offsetTop<C.element.offsetTop})});const m=D("_tutorial:"+l);N.has(m)||N.setitem({Path:m,Content:d.replace("{}",window.location.origin),id:crypto.randomUUID()});let e=D(U.path);if(!N.has(e)){const c={Path:e,Content:`welcome to sciepedia
try out the tutorial: _tutorial`,id:crypto.randomUUID()};localStorage[JSON.stringify(c.Path)]=JSON.stringify(c)}let p=new le("_home",e);B.push({element:p.head.title_element,fullpath:e}),b.appendChild(p.element),document.body.addEventListener("click",c=>{c.target==document.body&&ie(null)}),window.addEventListener("onunload",c=>{localStorage.unloading=!0,p.body.free(),localStorage.unloaded=!0}),se().then(()=>{p.body.spellcheck()})}return a.$$set=u=>{"data"in u&&t(1,r=u.data)},[o,r]}class ge extends j{constructor(n){super(),K(this,n,pe,de,R,{data:1})}}export{ge as component,be as universal};
